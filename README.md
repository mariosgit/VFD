# VFD

A collection of upcycling projects for Vakuum Fluorescent Displays (VFD). These are Display as you may find in Audio/Video gear like CD/DVD players. A VFD requires high voltage to control anodes and gates, and a small AC voltage for the fillament(heater). To drive each single display element, a time multiplexed controller is required.

## Project Structure...

This is a playground for testing VFDs and there are the PCBs in PCB-KiCAD. See below..

If you only want the display drivers, check out the external repos which are submoduled in the ```./lib``` folder.

```lib/...``` containes submodule display libs and maybe some other local libs which are in development. If a stable status is reached I move them into their own repo.

```src/VFD_TPIC..``` stuff was not integrated into this platformio project yet..

```src/PanelDemo``` is a simple example for a VFD + encoder and button inputs.

```src/FreeDSPController``` is like PanelDemo + it reads some data via I2C from a FreeDSP/ADSP1701. It's a first experiment to use the code generated by SigmaStudio.

### Software Testing

So this is "just" a wrapper PlatformIO project which allows quick switching between the displays I work on.

The thing to be build can be choosen in ```.env``` file. If there is none, copy the ```.env.example```.

### src/main

Is a wrapper into the other sources under ```src``` or into the examples under ```lib/XYZ/examples/...```.

You can also switch between demo programms by commenting in/out the defines.. only one at a time... but using ```.env``` does not infect the git repo.

## PCBs

There are some sub-schematics like VFD-Power which are included in the other schematics.

### MN12832JC-TeensyLC

This is a VFD + 2 Encoders + 2 Switches. (For the FreeDSPController)

Status: Works somewhat, It would have been better with Level shifters. During power up it can show some random noise, due to level issues.

### GP1294AI

This is a board with the VFD + 2 encoders + 10 switches.

#### Status: Experimental, PCB is in development. 

#### Todo:

* I2C from ATTiny !!! Also breakout other pins.
* Add Headphone with detection. HP Amp? Could use analog out from FDAiO.
* Connect the sync from the disp !? some interrupt input ? Greyscales ? Be clever :)
* Enable for Heater and Fillament ?
* Test Serial input via 74165 shifters
* Adopt ClickEncoder to work with serial input.
* Test with ADAU1701, make a simple headphone DSP ?


#### Crazy stuff:

* ESP32 webradio
